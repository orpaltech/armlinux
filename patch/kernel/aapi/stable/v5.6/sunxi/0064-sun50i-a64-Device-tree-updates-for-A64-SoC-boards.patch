From 008593cd9a5b691ca22430b2aa9d452cf2fed4be Mon Sep 17 00:00:00 2001
From: Sergey Suloev <ssuloev@orpaltech.com>
Date: Sun, 16 Feb 2020 23:15:13 +0300
Subject: [PATCH] sun50i-a64: Device tree updates for A64 SoC boards

---
 arch/arm64/boot/dts/allwinner/sun50i-a64.dtsi | 34 +++++++++++++++++++
 1 file changed, 34 insertions(+)

diff --git a/arch/arm64/boot/dts/allwinner/sun50i-a64.dtsi b/arch/arm64/boot/dts/allwinner/sun50i-a64.dtsi
index 862b47d..8a2d54f 100644
--- a/arch/arm64/boot/dts/allwinner/sun50i-a64.dtsi
+++ b/arch/arm64/boot/dts/allwinner/sun50i-a64.dtsi
@@ -157,6 +157,7 @@
 	sound_spdif {
 		compatible = "simple-audio-card";
 		simple-audio-card,name = "On-board SPDIF";
+		status = "disabled";
 
 		simple-audio-card,cpu {
 			sound-dai = <&spdif>;
@@ -671,6 +672,32 @@
 				function = "i2c1";
 			};
 
+			i2c2_pins: i2c2-pins {
+				pins = "PE14", "PE15";
+				function = "i2c2";
+			};
+
+			i2s0_pins_mclk: i2s0-pins-mclk {
+				pins = "PB3";
+				function = "i2s0";
+			};
+			i2s0_pins_bclk: i2s0-pins-bclk {
+				pins = "PB5";
+				function = "i2s0";
+			};
+			i2s0_pins_lrck: i2s0-pins-lrck {
+				pins = "PB4";
+				function = "i2s0";
+			};
+			i2s0_pins_do0: i2s0-pins-do0 {
+				pins = "PB6";
+				function = "i2s0";
+			};
+			i2s0_pins_di: i2s0-pins-di {
+				pins = "PB7";
+				function = "i2s0";
+			};
+
 			/omit-if-no-ref/
 			lcd_rgb666_pins: lcd-rgb666-pins {
 				pins = "PD0", "PD1", "PD2", "PD3", "PD4",
@@ -958,6 +985,8 @@
 			interrupts = <GIC_SPI 8 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&ccu CLK_BUS_I2C2>;
 			resets = <&ccu RST_BUS_I2C2>;
+			pinctrl-names = "default";
+			pinctrl-0 = <&i2c2_pins>;
 			status = "disabled";
 			#address-cells = <1>;
 			#size-cells = <0>;
@@ -1037,6 +1066,9 @@
 			clocks = <&ccu CLK_BUS_GPU>, <&ccu CLK_GPU>;
 			clock-names = "bus", "core";
 			resets = <&ccu RST_BUS_GPU>;
+
+			assigned-clocks = <&ccu CLK_GPU>;
+			assigned-clock-rates = <432000000>;
 		};
 
 		gic: interrupt-controller@1c81000 {
@@ -1193,6 +1225,8 @@
 			interrupts = <GIC_SPI 44 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&r_ccu CLK_APB0_I2C>;
 			resets = <&r_ccu RST_APB0_I2C>;
+			pinctrl-names = "default";
+			pinctrl-0 = <&r_i2c_pl89_pins>;
 			status = "disabled";
 			#address-cells = <1>;
 			#size-cells = <0>;
-- 
2.17.1

