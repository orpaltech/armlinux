From 98e97c8dd6e57dc4ff30a2470c74b55a46b1c0b5 Mon Sep 17 00:00:00 2001
From: Sergey Suloev <ssuloev@orpaltech.com>
Date: Thu, 6 Feb 2020 02:50:37 +0300
Subject: [PATCH] bcm2835: add DT-overlays

---
 arch/arm/boot/dts/Makefile                    |   2 +
 arch/arm/boot/dts/overlays/Makefile           |  28 +++++
 .../boot/dts/overlays/README.bcm2835-overlays |   1 +
 .../boot/dts/overlays/bcm2835-aapi-clk.dts    |  48 ++++++++
 .../boot/dts/overlays/bcm2835-aapi-ctp.dts    |  51 ++++++++
 .../boot/dts/overlays/bcm2835-aapi-lcd.dts    |  63 ++++++++++
 .../boot/dts/overlays/bcm2835-aapi-sound.dts  |  47 ++++++++
 .../boot/dts/overlays/bcm2835-aapi-vna.dts    |  33 ++++++
 arch/arm/boot/dts/overlays/bcm2835-aapi.dts   |  93 +++++++++++++++
 .../dts/overlays/bcm2835-audioinjector-pi.dts |  41 +++++++
 .../dts/overlays/bcm2835-ertft0356-drm.dts    | 110 ++++++++++++++++++
 .../boot/dts/overlays/bcm2835-fixup.scr-cmd   |  82 +++++++++++++
 .../boot/dts/overlays/bcm2835-gpio-reset.dts  |  24 ++++
 .../arm/boot/dts/overlays/bcm2835-no-hdmi.dts |  13 +++
 .../boot/dts/overlays/bcm2835-nrf24-spi.dts   |  83 +++++++++++++
 arch/arm/boot/dts/overlays/bcm2835-spidev.dts |  68 +++++++++++
 .../dts/overlays/bcm2835-waveshare35-drm.dts  |  73 ++++++++++++
 .../overlays/bcm2835-waveshare35-fbtft.dts    |  97 +++++++++++++++
 arch/arm64/boot/dts/broadcom/Makefile         |   1 +
 .../arm64/boot/dts/broadcom/overlays/Makefile |  28 +++++
 .../broadcom/overlays/README.bcm2835-overlays |   1 +
 .../broadcom/overlays/bcm2835-aapi-clk.dts    |  48 ++++++++
 .../broadcom/overlays/bcm2835-aapi-ctp.dts    |  51 ++++++++
 .../broadcom/overlays/bcm2835-aapi-lcd.dts    |  63 ++++++++++
 .../broadcom/overlays/bcm2835-aapi-sound.dts  |  47 ++++++++
 .../broadcom/overlays/bcm2835-aapi-vna.dts    |  33 ++++++
 .../dts/broadcom/overlays/bcm2835-aapi.dts    |  93 +++++++++++++++
 .../overlays/bcm2835-audioinjector-pi.dts     |  41 +++++++
 .../overlays/bcm2835-ertft0356-drm.dts        | 110 ++++++++++++++++++
 .../broadcom/overlays/bcm2835-fixup.scr-cmd   |  82 +++++++++++++
 .../broadcom/overlays/bcm2835-gpio-reset.dts  |  24 ++++
 .../dts/broadcom/overlays/bcm2835-no-hdmi.dts |  13 +++
 .../broadcom/overlays/bcm2835-nrf24-spi.dts   |  83 +++++++++++++
 .../dts/broadcom/overlays/bcm2835-spidev.dts  |  68 +++++++++++
 .../overlays/bcm2835-waveshare35-drm.dts      |  73 ++++++++++++
 .../overlays/bcm2835-waveshare35-fbtft.dts    |  97 +++++++++++++++
 36 files changed, 1913 insertions(+)
 create mode 100644 arch/arm/boot/dts/overlays/Makefile
 create mode 100644 arch/arm/boot/dts/overlays/README.bcm2835-overlays
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-aapi-clk.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-aapi-ctp.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-aapi-lcd.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-aapi-sound.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-aapi-vna.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-aapi.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-audioinjector-pi.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-ertft0356-drm.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-fixup.scr-cmd
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-gpio-reset.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-no-hdmi.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-nrf24-spi.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-spidev.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-waveshare35-drm.dts
 create mode 100644 arch/arm/boot/dts/overlays/bcm2835-waveshare35-fbtft.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/Makefile
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/README.bcm2835-overlays
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-clk.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-ctp.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-lcd.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-sound.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-vna.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-audioinjector-pi.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-ertft0356-drm.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-fixup.scr-cmd
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-gpio-reset.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-no-hdmi.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-nrf24-spi.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-spidev.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-drm.dts
 create mode 100644 arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-fbtft.dts

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 08011dc..e0c28e7 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -1316,3 +1316,5 @@ dtb-$(CONFIG_ARCH_ASPEED) += \
 	aspeed-bmc-opp-zaius.dtb \
 	aspeed-bmc-portwell-neptune.dtb \
 	aspeed-bmc-quanta-q71l.dtb
+
+subdir-y	+= overlays
diff --git a/arch/arm/boot/dts/overlays/Makefile b/arch/arm/boot/dts/overlays/Makefile
new file mode 100644
index 0000000..655f5f3
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/Makefile
@@ -0,0 +1,28 @@
+# SPDX-License-Identifier: GPL-2.0
+ifeq ($(CONFIG_OF_OVERLAY),y)
+
+dtbo-$(CONFIG_ARCH_BCM2835) += \
+	bcm2835-spidev.dtbo \
+	bcm2835-gpio-reset.dtbo \
+	bcm2835-nrf24-spi.dtbo \
+	bcm2835-waveshare35-drm.dtbo \
+	bcm2835-waveshare35-fbtft.dtbo \
+	bcm2835-ertft0356-drm.dtbo \
+	bcm2835-audioinjector-pi.dtbo \
+	bcm2835-aapi-ctp.dtbo \
+	bcm2835-aapi-lcd.dtbo \
+	bcm2835-aapi-clk.dtbo \
+	bcm2835-aapi-sound.dtbo \
+	bcm2835-aapi-vna.dtbo \
+	bcm2835-aapi.dtbo \
+	bcm2835-no-hdmi.dtbo
+
+scr-$(CONFIG_ARCH_BCM2835) += bcm2835-fixup.scr
+
+dtbotxt-$(CONFIG_ARCH_BCM2835) += README.bcm2835-overlays
+
+targets += $(dtbo-y) $(scr-y) $(dtbotxt-y)
+
+endif
+
+extra-y	:= $(dtbo-y) $(scr-y) $(dtbotxt-y)
diff --git a/arch/arm/boot/dts/overlays/README.bcm2835-overlays b/arch/arm/boot/dts/overlays/README.bcm2835-overlays
new file mode 100644
index 0000000..6573c77
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/README.bcm2835-overlays
@@ -0,0 +1 @@
+# overlays for bcm2837
diff --git a/arch/arm/boot/dts/overlays/bcm2835-aapi-clk.dts b/arch/arm/boot/dts/overlays/bcm2835-aapi-clk.dts
new file mode 100644
index 0000000..ed855ea
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-aapi-clk.dts
@@ -0,0 +1,48 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+
+			/* 27MHz reference crystal */
+			aapi_xtal: aapi-xtal@27 {
+				compatible = "fixed-clock";
+				#clock-cells = <0>;
+				clock-frequency = <27000000>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2c1>;
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_clk: aapi-clk@60 {
+				compatible = "orpaltech,aapi-clk-si5351";
+				reg = <0x60>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				#clock-cells = <1>;
+
+				/* connect xtal input to 27MHz reference */
+				clocks = <&aapi_xtal>;
+				clock-names = "xtal";
+
+				xtal-frequency = <27000000>;
+				xtal-correction = <0 0>; /*<value,sign>*/
+
+				clock-output-names = "clk0", "clk1";
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-aapi-ctp.dts b/arch/arm/boot/dts/overlays/bcm2835-aapi-ctp.dts
new file mode 100644
index 0000000..470a088
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-aapi-ctp.dts
@@ -0,0 +1,51 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&i2c1>;
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_ctp: edt-ft5x06@38 {
+				compatible = "edt,edt-ft5306", "edt,edt-ft5x06";
+				reg = <0x38>;
+
+				resets = <&rstc_gpio 0>;
+				reset-names = "reset";
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&edt_ft5x06_pins>;
+
+				interrupt-parent = <&gpio>;
+				interrupts = <23 IRQ_TYPE_EDGE_FALLING>;
+
+				touchscreen-size-x = <480>;
+				touchscreen-size-y = <854>;
+				/*touchscreen-inverted-x;*/
+				/*touchscreen-inverted-y;*/
+				/*touchscreen-swapped-x-y;*/
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			edt_ft5x06_pins: edt-ft5x06-pins {
+				brcm,pins = <23>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-aapi-lcd.dts b/arch/arm/boot/dts/overlays/bcm2835-aapi-lcd.dts
new file mode 100644
index 0000000..fc707e6
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-aapi-lcd.dts
@@ -0,0 +1,63 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&dsi1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			port {
+				dsi1_out: endpoint {
+					remote-endpoint = <&aapi_lcd_in>;
+				};
+			};
+
+			aapi_lcd: panel@0 {
+				compatible = "truly,tda-fwvga0500g50008",
+					     "himax,hx8379a";
+				label = "aapi_lcd";
+				reg = <0>;
+
+				resets = <&rstc_gpio 0>;
+				reset-names = "reset";
+
+				backlight = <&aapi_bl>;
+
+				port {
+					aapi_lcd_in: endpoint {
+						remote-endpoint = <&dsi1_out>;
+					};
+				};
+			};
+		};
+	};
+
+	fragment@1 {
+		target-path = "/soc/";
+		__overlay__ {
+			aapi_bl: backlight {
+				compatible = "pwm-backlight";
+				pwms = <&pwm 0 5000000>; /* 200Hz*/
+				brightness-levels = <0 4 8 16 32 64 128>;
+				default-brightness-level = <1>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&pwm>;
+		__overlay__ {
+			pinctrl-names = "default";
+			pinctrl-0 = <&pwm0_gpio12 &pwm1_gpio13>;
+			status = "okay";
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-aapi-sound.dts b/arch/arm/boot/dts/overlays/bcm2835-aapi-sound.dts
new file mode 100644
index 0000000..ff7b783
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-aapi-sound.dts
@@ -0,0 +1,47 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+			aapi-sound {
+				compatible = "orpaltech,aapi-wm8731-sound";
+				orpal,i2s-controller = <&i2s>;
+				orpal,audio-codec = <&aapi_codec>;
+				status = "okay";
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2s>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@2 {
+		target = <&i2c1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_codec: wm8731@1a {
+				#sound-dai-cells = <0>;
+				compatible = "wlf,wm8731";
+				reg = <0x1a>;
+
+				/*---------------REMOVE THIS----------------------------*/
+				clocks = <&aapi_clk 0>;
+				clock-names = "dummy-clk";
+				/*------------------------------------------------------*/
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-aapi-vna.dts b/arch/arm/boot/dts/overlays/bcm2835-aapi-vna.dts
new file mode 100644
index 0000000..c141cf0
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-aapi-vna.dts
@@ -0,0 +1,33 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+#include <dt-bindings/interrupt-controller/irq.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+			aapi-vna {
+				compatible = "orpaltech,aapi-160";
+				clocks = <&aapi_clk 0>,
+					 <&aapi_clk 1>;
+				clock-names = "clk0",
+					      "clk1";
+				intermediate-freq = <10031>;
+				initial-freq = <3500000>;
+
+				shutdown-ctrl-gpios = <&gpio 16 GPIO_ACTIVE_LOW>;
+				shutdown-timeout-ms = <7000>;
+
+				low-battery-gpios = <&gpio 21 0>;
+				charger-pg-gpios = <&gpio 4 0>;
+				charger-stat1-gpios = <&gpio 6 0>;
+				charger-stat2-gpios = <&gpio 5 0>;
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-aapi.dts b/arch/arm/boot/dts/overlays/bcm2835-aapi.dts
new file mode 100644
index 0000000..5bca23e
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-aapi.dts
@@ -0,0 +1,93 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+
+			aapi-vna {
+				compatible = "orpaltech,aapi-160";
+				clocks = <&aapi_clk 0>,
+					 <&aapi_clk 1>;
+				clock-names = "clk0",
+					      "clk1";
+				intermediate-freq = <10031>;
+				initial-freq = <14000000>;
+
+				shutdown-ctrl-gpios = <&gpio 16 GPIO_ACTIVE_LOW>;
+				shutdown-timeout-ms = <7000>;
+
+				low-battery-gpios = <&gpio 21 0>;
+				charger-pg-gpios = <&gpio 4 0>;
+				charger-stat1-gpios = <&gpio 6 0>;
+				charger-stat2-gpios = <&gpio 5 0>;
+			};
+
+			aapi-sound {
+				compatible = "orpaltech,aapi-wm8731-sound";
+				orpal,i2s-controller = <&i2s>;
+				orpal,audio-codec = <&aapi_codec>;
+			};
+
+			/* 27MHz reference crystal */
+			aapi_xtal: aapi-xtal@27 {
+				compatible = "fixed-clock";
+				#clock-cells = <0>;
+				clock-frequency = <27000000>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2s>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@2 {
+		target = <&i2c1>;
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_codec: wm8731@1a {
+				compatible = "wlf,wm8731";
+				#sound-dai-cells = <0>;
+				reg = <0x1a>;
+
+				/*---------------REMOVE THIS----------------------------*/
+				clocks = <&aapi_clk 0>;
+                                clock-names = "dummy-clk";
+				/*------------------------------------------------------*/
+				status = "okay";
+			};
+
+			aapi_clk: aapi-clk@60 {
+				compatible = "orpaltech,aapi-clk-si5351";
+				reg = <0x60>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				#clock-cells = <1>;
+
+				/* connect xtal input to 27MHz reference */
+				clocks = <&aapi_xtal>;
+				clock-names = "xtal";
+
+				xtal-frequency = <27000000>;
+				xtal-correction = <0 0>; /*<corr,sign>*/
+
+				clock-output-names = "clk0", "clk1";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-audioinjector-pi.dts b/arch/arm/boot/dts/overlays/bcm2835-audioinjector-pi.dts
new file mode 100644
index 0000000..df97393
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-audioinjector-pi.dts
@@ -0,0 +1,41 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&i2s>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@1 {
+		target = <&i2c1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			wm8731: wm8731@1a {
+				#sound-dai-cells = <0>;
+				compatible = "wlf,wm8731";
+				reg = <0x1a>;
+				status = "okay";
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/";
+		__overlay__ {
+			sound_ai {
+				compatible = "flatmax,audioinjector-pi";
+				cpu-node = <&i2s>;
+				codec-node = <&wm8731>;
+				status = "okay";
+                        };
+                };
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-ertft0356-drm.dts b/arch/arm/boot/dts/overlays/bcm2835-ertft0356-drm.dts
new file mode 100644
index 0000000..c27fe53
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-ertft0356-drm.dts
@@ -0,0 +1,110 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+			i2c1 = "/soc/i2c@7e804000";
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			ertft_tp_pins: ertft_tp@17 {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+
+			ertft_pins_rst: ertft@25 {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+                        };
+
+			ertft_pins_dc:  ertft@24 {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+
+			ertft_pins_bl:  ertft@23 {
+				brcm,pins = <23>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			pinctrl-names = "default";
+			pinctrl-0 = <&spi0_gpio7>;
+
+			ertft@0 {
+				compatible = "eastrising,er-tft035-6",
+					     "ilitek,ili9488";
+				reg = <0>;
+				spi-max-frequency = <20000000>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&ertft_pins_rst>,
+					    <&ertft_pins_dc>,
+					    <&ertft_pins_bl>;
+
+				reset-gpios = <&gpio 25 GPIO_ACTIVE_HIGH>;
+				dc-gpios = <&gpio 24 GPIO_ACTIVE_HIGH>;
+
+				rotation = <0>;
+				backlight = <&ertft_bl>;
+				status = "disabled";
+			};
+		};
+	};
+
+	fragment@3 {
+		target-path = "/soc";
+		__overlay__ {
+			ertft_bl: backlight@23 {
+				compatible = "gpio-backlight";
+				gpios = <&gpio 23 0>;
+			};
+		};
+	};
+
+	fragment@4 {
+		target-path = "/soc/i2c@7e804000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			ertft_tp@38 {
+				compatible = "focaltech,ft6236";
+				reg = <0x38>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&ertft_tp_pins>;
+
+				interrupt-parent = <&gpio>;
+				interrupts = <17 IRQ_TYPE_EDGE_FALLING>;
+
+				touchscreen-size-x = <320>;
+				touchscreen-size-y = <480>;
+				/*touchscreen-inverted-x;*/
+				/*touchscreen-inverted-y;*/
+				touchscreen-swapped-x-y;
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-fixup.scr-cmd b/arch/arm/boot/dts/overlays/bcm2835-fixup.scr-cmd
new file mode 100644
index 0000000..76328f9
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-fixup.scr-cmd
@@ -0,0 +1,82 @@
+# overlays fixup script
+# implements (or rather substitutes) overlay arguments functionality
+# using u-boot scripting, environment variables and "fdt" command
+
+if test -n "${param_spidev_spi_bus}"; then
+	test "${param_spidev_spi_bus}" = "0" && setenv tmp_spi_path "spi@7e204000"
+	test "${param_spidev_spi_bus}" = "1" && setenv tmp_spi_path "spi@7e215080"
+	fdt set /soc/${tmp_spi_path} status "okay"
+        fdt set /soc/${tmp_spi_path}/spidev0 status "okay"
+	fdt set /soc/${tmp_spi_path}/spidev1 status "okay"
+	if test -n "${param_spidev_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/spidev0 spi-max-frequency "<${param_spidev_max_freq}>"
+		fdt set /soc/${tmp_spi_path}/spidev1 spi-max-frequency "<${param_spidev_max_freq}>"
+	fi
+	env delete tmp_spi_path
+fi
+
+if test "${param_waveshare35_spi_bus}" = "0"; then
+	setenv tmp_spi_path "spi@7e204000"
+
+	fdt set /soc/${tmp_spi_path} status "okay"
+	fdt set /soc/${tmp_spi_path}/waveshare35 status "okay"
+	fdt set /soc/${tmp_spi_path}/waveshare35_ts status "okay"
+
+	if test -n "${param_waveshare35_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/waveshare35 spi-max-frequency "<${param_waveshare35_max_freq}>"
+	fi
+	if test -n "${param_waveshare35_rotation}"; then
+		fdt set /soc/${tmp_spi_path}/waveshare35 rotation "<${param_waveshare35_rotation}>"
+	fi
+	if test -n "${param_waveshare35_bgr}"; then
+		fdt set /soc/${tmp_spi_path}/waveshare35 bgr "<${param_waveshare35_bgr}>"
+	fi
+
+	env delete tmp_spi_path
+fi
+
+if test "${param_ertft_spi_bus}" = "0"; then
+	setenv tmp_spi_path "spi@7e204000"
+	setenv tmp_i2c_path "i2c@7e804000"
+
+	fdt set /soc/${tmp_spi_path} status "okay"
+	fdt set /soc/${tmp_spi_path}/ertft status "okay"
+	fdt set /soc/${tmp_i2c_path} status "okay"
+	fdt set /soc/${tmp_i2c_path}/ertft_tp status "okay"
+
+	if test -n "${param_ertft_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/ertft spi-max-frequency "<${param_ertft_max_freq}>"
+	fi
+	if test -n "${param_ertft_rotation}"; then
+		fdt set /soc/${tmp_spi_path}/ertft rotation "<${param_ertft_rotation}>"
+	fi
+
+	if test "${param_ertft_tp_inverted_x}" = "1"; then
+		fdt set /soc/${tmp_i2c_path}/ertft_tp touchscreen-inverted-x
+	fi
+	if test "${param_ertft_tp_inverted_y}" = "1"; then
+		fdt set /soc/${tmp_i2c_path}/ertft_tp touchscreen-inverted-y
+	fi
+	if test "${param_ertft_tp_swapped_x_y}" = "1"; then
+		fdt set /soc/${tmp_i2c_path}/ertft_tp touchscreen-swapped-x-y
+	fi
+
+	env delete tmp_spi_path
+	env delete tmp_i2c_path
+fi
+
+if test -n "${param_nrf24_spi_bus}"; then
+	test "${param_nrf24_spi_bus}" = "0" && setenv tmp_spi_path "spi@7e204000"
+	test "${param_nrf24_spi_bus}" = "1" && setenv tmp_spi_path "spi@7e215080"
+
+	fdt set /soc/${tmp_spi_path} status "okay"
+	fdt set /soc/${tmp_spi_path}/nrf24 status "okay"
+
+	if test -n "${param_nrf24_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/nrf24 spi-max-frequency "<${param_nrf24_max_freq}>"
+	fi
+	if test "${param_nrf24_spi_cs}" = "1"; then
+		fdt set /soc/${tmp_spi_path}/nrf24 reg "<1>"
+	fi
+	env delete tmp_spi_path
+fi
diff --git a/arch/arm/boot/dts/overlays/bcm2835-gpio-reset.dts b/arch/arm/boot/dts/overlays/bcm2835-gpio-reset.dts
new file mode 100644
index 0000000..71be44a
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-gpio-reset.dts
@@ -0,0 +1,24 @@
+#include <dt-bindings/gpio/gpio.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+			rstc_gpio: rstc-gpio@0 {
+				compatible = "linux,gpio-reset-controller";
+				#reset-cells = <1>;
+
+				panel0-reset {
+					gpios = <&gpio 24 GPIO_ACTIVE_LOW>;
+					duration-ms = <20 5 20>;
+					max-resets = <1>;
+				};
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-no-hdmi.dts b/arch/arm/boot/dts/overlays/bcm2835-no-hdmi.dts
new file mode 100644
index 0000000..024d697
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-no-hdmi.dts
@@ -0,0 +1,13 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&hdmi>;
+		__overlay__ {
+			status = "disabled";
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-nrf24-spi.dts b/arch/arm/boot/dts/overlays/bcm2835-nrf24-spi.dts
new file mode 100644
index 0000000..2d9ece7
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-nrf24-spi.dts
@@ -0,0 +1,83 @@
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+			spi1 = "/soc/spi@7e215080";
+		};
+	};
+
+	fragment@1 {
+                target = <&gpio>;
+                __overlay__ {
+                        nrf24_int0: nrf24_int0 {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+
+			nrf24_ce0: nrf24_ce0 {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+
+			nrf24_int1: nrf24_int1 {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+
+			nrf24_ce1: nrf24_ce1 {
+				brcm,pins = <27>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			nrf24@0 {
+				compatible = "nordic,nrf24";
+				reg = <0>;			/* CS0 */
+				spi-max-frequency = <5000000>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&nrf24_int0 &nrf24_ce0>;
+				interrupt-parent = <&gpio>;
+				interrupts = <24 2>;		/* irq, falling edge */
+				irq-gpios = <&gpio 24 0>;
+				ce-gpios = <&gpio 25 0>;
+				status = "disabled";
+			};
+		};
+	};
+
+	fragment@3 {
+		target-path = "/soc/spi@7e215080";
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			nrf24@0 {
+				compatible = "nordic,nrf24";
+				reg = <0>;			/* CS0 */
+				spi-max-frequency = <5000000>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&nrf24_int1 &nrf24_ce1>;
+				interrupt-parent = <&gpio>;
+				interrupts = <17 2>;		/* irq, falling edge */
+				irq-gpios = <&gpio 17 0>;
+				ce-gpios = <&gpio 27 0>;
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-spidev.dts b/arch/arm/boot/dts/overlays/bcm2835-spidev.dts
new file mode 100644
index 0000000..abd098c
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-spidev.dts
@@ -0,0 +1,68 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+			spi1 = "/soc/spi@7e215080";
+		};
+	};
+
+	fragment@1 {
+                target-path = "/soc/spi@7e204000";
+                __overlay__ {
+                        /* needed to avoid dtc warning */
+                        #address-cells = <1>;
+                        #size-cells = <0>;
+
+                        spidev@0 {
+                                compatible = "spidev";
+                                reg = <0>;              /* CE0 */
+                                #address-cells = <1>;
+                                #size-cells = <0>;
+                                spi-max-frequency = <2000000>;
+				status = "disabled";
+                        };
+
+			spidev@1 {
+                                compatible = "spidev";
+                                reg = <1>;              /* CE1 */
+                                #address-cells = <1>;
+                                #size-cells = <0>;
+                                spi-max-frequency = <2000000>;
+				status = "disabled";
+                        };
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e215080";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			spidev@0 {
+				compatible = "spidev";
+				reg = <0>;		/* CE0 */
+				#address-cells = <1>;
+				#size-cells = <0>;
+				spi-max-frequency = <2000000>;
+				status = "disabled";
+			};
+
+			spidev@1 {
+				compatible = "spidev";
+				reg = <1>;		/* CE1 */
+				#address-cells = <1>;
+				#size-cells = <0>;
+				spi-max-frequency = <2000000>;
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-waveshare35-drm.dts b/arch/arm/boot/dts/overlays/bcm2835-waveshare35-drm.dts
new file mode 100644
index 0000000..5d38c44
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-waveshare35-drm.dts
@@ -0,0 +1,73 @@
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			ws35_irq_pin: w35_irq_pin {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+			ws35_rst_pin: ws35_rst_pin {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+			ws35_dc_pin: waveshare35a_dc {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			ws35_lcd: ws35-lcd@0 {
+				compatible = "waveshare,rpi-lcd-35","ilitek,ili9486";
+				reg = <0>;
+
+				spi-max-frequency = <20000000>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&ws35_irq_pin &ws35_rst_pin &ws35_dc_pin>;
+
+				reset-gpios = <&gpio 25 0>;
+				dc-gpios = <&gpio 24 0>;
+				rotation = <0>;
+			};
+
+			ws35_ts: ws35-ts@1 {
+				compatible = "ti,ads7846";
+				reg = <1>;
+
+				spi-max-frequency = <2000000>;
+
+				interrupt-parent = <&gpio>;
+				interrupts = <17 IRQ_TYPE_EDGE_FALLING>;
+
+				pendown-gpios = <&gpio 17 0>;
+
+				ti,x-plate-ohms = /bits/ 16 <60>;
+				ti,pressure-max = /bits/ 16 <255>;
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/bcm2835-waveshare35-fbtft.dts b/arch/arm/boot/dts/overlays/bcm2835-waveshare35-fbtft.dts
new file mode 100644
index 0000000..3ff77ae
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/bcm2835-waveshare35-fbtft.dts
@@ -0,0 +1,97 @@
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			waveshare35a_int: waveshare35a_int {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+			waveshare35a_rst: waveshare35a_rst {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+                        };
+			waveshare35a_dc: waveshare35a_dc {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			ws35_lcd: ws35-lcd@0 {
+				compatible = "ilitek,ili9486";
+				reg = <0>;
+
+				spi-max-frequency = <16000000>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&waveshare35a_int &waveshare35a_rst &waveshare35a_dc>;
+
+				reset-gpios = <&gpio 25 0>;
+				dc-gpios = <&gpio 24 0>;
+
+				txbuflen = <32768>;
+				rotate = <90>;
+				bgr = <0>;
+				fps = <30>;
+				buswidth = <8>;
+				regwidth = <16>;
+				debug = <0>;
+
+				init = <0x10000b0 0x00
+				        0x1000011
+					0x20000ff
+					0x100003a 0x55
+					0x1000036 0x28
+					0x10000c2 0x44
+					0x10000c5 0x00 0x00 0x00 0x00
+					0x10000e0 0x0f 0x1f 0x1c 0x0c 0x0f 0x08 0x48 0x98 0x37 0x0a 0x13 0x04 0x11 0x0d 0x00
+					0x10000e1 0x0f 0x32 0x2e 0x0b 0x0d 0x05 0x47 0x75 0x37 0x06 0x10 0x03 0x24 0x20 0x00
+					0x10000e2 0x0f 0x32 0x2e 0x0b 0x0d 0x05 0x47 0x75 0x37 0x06 0x10 0x03 0x24 0x20 0x00
+					/* piscreen -> waveshare35a */
+					0x1000036 0x28
+					0x1000011
+					0x1000029>;
+
+				status = "disabled";
+			};
+
+			ws35a_ts: ws35-ts@1 {
+				compatible = "ti,ads7846";
+				reg = <1>;
+
+				spi-max-frequency = <2000000>;
+
+				interrupts = <17 2>;		/* high-to-low edge triggered */
+				interrupt-parent = <&gpio>;
+
+				pendown-gpio = <&gpio 17 0>;
+
+				ti,x-plate-ohms = /bits/ 16 <60>;
+				ti,pressure-max = /bits/ 16 <255>;
+
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/Makefile b/arch/arm64/boot/dts/broadcom/Makefile
index cb7de8d..13bd499 100644
--- a/arch/arm64/boot/dts/broadcom/Makefile
+++ b/arch/arm64/boot/dts/broadcom/Makefile
@@ -7,3 +7,4 @@ dtb-$(CONFIG_ARCH_BCM2835) += bcm2711-rpi-4-b.dtb \
 
 subdir-y	+= northstar2
 subdir-y	+= stingray
+subdir-y	+= overlays
diff --git a/arch/arm64/boot/dts/broadcom/overlays/Makefile b/arch/arm64/boot/dts/broadcom/overlays/Makefile
new file mode 100644
index 0000000..655f5f3
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/Makefile
@@ -0,0 +1,28 @@
+# SPDX-License-Identifier: GPL-2.0
+ifeq ($(CONFIG_OF_OVERLAY),y)
+
+dtbo-$(CONFIG_ARCH_BCM2835) += \
+	bcm2835-spidev.dtbo \
+	bcm2835-gpio-reset.dtbo \
+	bcm2835-nrf24-spi.dtbo \
+	bcm2835-waveshare35-drm.dtbo \
+	bcm2835-waveshare35-fbtft.dtbo \
+	bcm2835-ertft0356-drm.dtbo \
+	bcm2835-audioinjector-pi.dtbo \
+	bcm2835-aapi-ctp.dtbo \
+	bcm2835-aapi-lcd.dtbo \
+	bcm2835-aapi-clk.dtbo \
+	bcm2835-aapi-sound.dtbo \
+	bcm2835-aapi-vna.dtbo \
+	bcm2835-aapi.dtbo \
+	bcm2835-no-hdmi.dtbo
+
+scr-$(CONFIG_ARCH_BCM2835) += bcm2835-fixup.scr
+
+dtbotxt-$(CONFIG_ARCH_BCM2835) += README.bcm2835-overlays
+
+targets += $(dtbo-y) $(scr-y) $(dtbotxt-y)
+
+endif
+
+extra-y	:= $(dtbo-y) $(scr-y) $(dtbotxt-y)
diff --git a/arch/arm64/boot/dts/broadcom/overlays/README.bcm2835-overlays b/arch/arm64/boot/dts/broadcom/overlays/README.bcm2835-overlays
new file mode 100644
index 0000000..6573c77
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/README.bcm2835-overlays
@@ -0,0 +1 @@
+# overlays for bcm2837
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-clk.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-clk.dts
new file mode 100644
index 0000000..ed855ea
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-clk.dts
@@ -0,0 +1,48 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+
+			/* 27MHz reference crystal */
+			aapi_xtal: aapi-xtal@27 {
+				compatible = "fixed-clock";
+				#clock-cells = <0>;
+				clock-frequency = <27000000>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2c1>;
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_clk: aapi-clk@60 {
+				compatible = "orpaltech,aapi-clk-si5351";
+				reg = <0x60>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				#clock-cells = <1>;
+
+				/* connect xtal input to 27MHz reference */
+				clocks = <&aapi_xtal>;
+				clock-names = "xtal";
+
+				xtal-frequency = <27000000>;
+				xtal-correction = <0 0>; /*<value,sign>*/
+
+				clock-output-names = "clk0", "clk1";
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-ctp.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-ctp.dts
new file mode 100644
index 0000000..470a088
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-ctp.dts
@@ -0,0 +1,51 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&i2c1>;
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_ctp: edt-ft5x06@38 {
+				compatible = "edt,edt-ft5306", "edt,edt-ft5x06";
+				reg = <0x38>;
+
+				resets = <&rstc_gpio 0>;
+				reset-names = "reset";
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&edt_ft5x06_pins>;
+
+				interrupt-parent = <&gpio>;
+				interrupts = <23 IRQ_TYPE_EDGE_FALLING>;
+
+				touchscreen-size-x = <480>;
+				touchscreen-size-y = <854>;
+				/*touchscreen-inverted-x;*/
+				/*touchscreen-inverted-y;*/
+				/*touchscreen-swapped-x-y;*/
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			edt_ft5x06_pins: edt-ft5x06-pins {
+				brcm,pins = <23>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-lcd.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-lcd.dts
new file mode 100644
index 0000000..fc707e6
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-lcd.dts
@@ -0,0 +1,63 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&dsi1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			port {
+				dsi1_out: endpoint {
+					remote-endpoint = <&aapi_lcd_in>;
+				};
+			};
+
+			aapi_lcd: panel@0 {
+				compatible = "truly,tda-fwvga0500g50008",
+					     "himax,hx8379a";
+				label = "aapi_lcd";
+				reg = <0>;
+
+				resets = <&rstc_gpio 0>;
+				reset-names = "reset";
+
+				backlight = <&aapi_bl>;
+
+				port {
+					aapi_lcd_in: endpoint {
+						remote-endpoint = <&dsi1_out>;
+					};
+				};
+			};
+		};
+	};
+
+	fragment@1 {
+		target-path = "/soc/";
+		__overlay__ {
+			aapi_bl: backlight {
+				compatible = "pwm-backlight";
+				pwms = <&pwm 0 5000000>; /* 200Hz*/
+				brightness-levels = <0 4 8 16 32 64 128>;
+				default-brightness-level = <1>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&pwm>;
+		__overlay__ {
+			pinctrl-names = "default";
+			pinctrl-0 = <&pwm0_gpio12 &pwm1_gpio13>;
+			status = "okay";
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-sound.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-sound.dts
new file mode 100644
index 0000000..ff7b783
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-sound.dts
@@ -0,0 +1,47 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+			aapi-sound {
+				compatible = "orpaltech,aapi-wm8731-sound";
+				orpal,i2s-controller = <&i2s>;
+				orpal,audio-codec = <&aapi_codec>;
+				status = "okay";
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2s>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@2 {
+		target = <&i2c1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_codec: wm8731@1a {
+				#sound-dai-cells = <0>;
+				compatible = "wlf,wm8731";
+				reg = <0x1a>;
+
+				/*---------------REMOVE THIS----------------------------*/
+				clocks = <&aapi_clk 0>;
+				clock-names = "dummy-clk";
+				/*------------------------------------------------------*/
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-vna.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-vna.dts
new file mode 100644
index 0000000..c141cf0
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi-vna.dts
@@ -0,0 +1,33 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+#include <dt-bindings/interrupt-controller/irq.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+			aapi-vna {
+				compatible = "orpaltech,aapi-160";
+				clocks = <&aapi_clk 0>,
+					 <&aapi_clk 1>;
+				clock-names = "clk0",
+					      "clk1";
+				intermediate-freq = <10031>;
+				initial-freq = <3500000>;
+
+				shutdown-ctrl-gpios = <&gpio 16 GPIO_ACTIVE_LOW>;
+				shutdown-timeout-ms = <7000>;
+
+				low-battery-gpios = <&gpio 21 0>;
+				charger-pg-gpios = <&gpio 4 0>;
+				charger-stat1-gpios = <&gpio 6 0>;
+				charger-stat2-gpios = <&gpio 5 0>;
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi.dts
new file mode 100644
index 0000000..5bca23e
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-aapi.dts
@@ -0,0 +1,93 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+
+			aapi-vna {
+				compatible = "orpaltech,aapi-160";
+				clocks = <&aapi_clk 0>,
+					 <&aapi_clk 1>;
+				clock-names = "clk0",
+					      "clk1";
+				intermediate-freq = <10031>;
+				initial-freq = <14000000>;
+
+				shutdown-ctrl-gpios = <&gpio 16 GPIO_ACTIVE_LOW>;
+				shutdown-timeout-ms = <7000>;
+
+				low-battery-gpios = <&gpio 21 0>;
+				charger-pg-gpios = <&gpio 4 0>;
+				charger-stat1-gpios = <&gpio 6 0>;
+				charger-stat2-gpios = <&gpio 5 0>;
+			};
+
+			aapi-sound {
+				compatible = "orpaltech,aapi-wm8731-sound";
+				orpal,i2s-controller = <&i2s>;
+				orpal,audio-codec = <&aapi_codec>;
+			};
+
+			/* 27MHz reference crystal */
+			aapi_xtal: aapi-xtal@27 {
+				compatible = "fixed-clock";
+				#clock-cells = <0>;
+				clock-frequency = <27000000>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2s>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@2 {
+		target = <&i2c1>;
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			clock-frequency = <400000>;
+			status = "okay";
+
+			aapi_codec: wm8731@1a {
+				compatible = "wlf,wm8731";
+				#sound-dai-cells = <0>;
+				reg = <0x1a>;
+
+				/*---------------REMOVE THIS----------------------------*/
+				clocks = <&aapi_clk 0>;
+                                clock-names = "dummy-clk";
+				/*------------------------------------------------------*/
+				status = "okay";
+			};
+
+			aapi_clk: aapi-clk@60 {
+				compatible = "orpaltech,aapi-clk-si5351";
+				reg = <0x60>;
+				#address-cells = <1>;
+				#size-cells = <0>;
+				#clock-cells = <1>;
+
+				/* connect xtal input to 27MHz reference */
+				clocks = <&aapi_xtal>;
+				clock-names = "xtal";
+
+				xtal-frequency = <27000000>;
+				xtal-correction = <0 0>; /*<corr,sign>*/
+
+				clock-output-names = "clk0", "clk1";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-audioinjector-pi.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-audioinjector-pi.dts
new file mode 100644
index 0000000..df97393
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-audioinjector-pi.dts
@@ -0,0 +1,41 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&i2s>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@1 {
+		target = <&i2c1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			wm8731: wm8731@1a {
+				#sound-dai-cells = <0>;
+				compatible = "wlf,wm8731";
+				reg = <0x1a>;
+				status = "okay";
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/";
+		__overlay__ {
+			sound_ai {
+				compatible = "flatmax,audioinjector-pi";
+				cpu-node = <&i2s>;
+				codec-node = <&wm8731>;
+				status = "okay";
+                        };
+                };
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-ertft0356-drm.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-ertft0356-drm.dts
new file mode 100644
index 0000000..c27fe53
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-ertft0356-drm.dts
@@ -0,0 +1,110 @@
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+			i2c1 = "/soc/i2c@7e804000";
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			ertft_tp_pins: ertft_tp@17 {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+
+			ertft_pins_rst: ertft@25 {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+                        };
+
+			ertft_pins_dc:  ertft@24 {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+
+			ertft_pins_bl:  ertft@23 {
+				brcm,pins = <23>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			pinctrl-names = "default";
+			pinctrl-0 = <&spi0_gpio7>;
+
+			ertft@0 {
+				compatible = "eastrising,er-tft035-6",
+					     "ilitek,ili9488";
+				reg = <0>;
+				spi-max-frequency = <20000000>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&ertft_pins_rst>,
+					    <&ertft_pins_dc>,
+					    <&ertft_pins_bl>;
+
+				reset-gpios = <&gpio 25 GPIO_ACTIVE_HIGH>;
+				dc-gpios = <&gpio 24 GPIO_ACTIVE_HIGH>;
+
+				rotation = <0>;
+				backlight = <&ertft_bl>;
+				status = "disabled";
+			};
+		};
+	};
+
+	fragment@3 {
+		target-path = "/soc";
+		__overlay__ {
+			ertft_bl: backlight@23 {
+				compatible = "gpio-backlight";
+				gpios = <&gpio 23 0>;
+			};
+		};
+	};
+
+	fragment@4 {
+		target-path = "/soc/i2c@7e804000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			ertft_tp@38 {
+				compatible = "focaltech,ft6236";
+				reg = <0x38>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&ertft_tp_pins>;
+
+				interrupt-parent = <&gpio>;
+				interrupts = <17 IRQ_TYPE_EDGE_FALLING>;
+
+				touchscreen-size-x = <320>;
+				touchscreen-size-y = <480>;
+				/*touchscreen-inverted-x;*/
+				/*touchscreen-inverted-y;*/
+				touchscreen-swapped-x-y;
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-fixup.scr-cmd b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-fixup.scr-cmd
new file mode 100644
index 0000000..76328f9
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-fixup.scr-cmd
@@ -0,0 +1,82 @@
+# overlays fixup script
+# implements (or rather substitutes) overlay arguments functionality
+# using u-boot scripting, environment variables and "fdt" command
+
+if test -n "${param_spidev_spi_bus}"; then
+	test "${param_spidev_spi_bus}" = "0" && setenv tmp_spi_path "spi@7e204000"
+	test "${param_spidev_spi_bus}" = "1" && setenv tmp_spi_path "spi@7e215080"
+	fdt set /soc/${tmp_spi_path} status "okay"
+        fdt set /soc/${tmp_spi_path}/spidev0 status "okay"
+	fdt set /soc/${tmp_spi_path}/spidev1 status "okay"
+	if test -n "${param_spidev_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/spidev0 spi-max-frequency "<${param_spidev_max_freq}>"
+		fdt set /soc/${tmp_spi_path}/spidev1 spi-max-frequency "<${param_spidev_max_freq}>"
+	fi
+	env delete tmp_spi_path
+fi
+
+if test "${param_waveshare35_spi_bus}" = "0"; then
+	setenv tmp_spi_path "spi@7e204000"
+
+	fdt set /soc/${tmp_spi_path} status "okay"
+	fdt set /soc/${tmp_spi_path}/waveshare35 status "okay"
+	fdt set /soc/${tmp_spi_path}/waveshare35_ts status "okay"
+
+	if test -n "${param_waveshare35_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/waveshare35 spi-max-frequency "<${param_waveshare35_max_freq}>"
+	fi
+	if test -n "${param_waveshare35_rotation}"; then
+		fdt set /soc/${tmp_spi_path}/waveshare35 rotation "<${param_waveshare35_rotation}>"
+	fi
+	if test -n "${param_waveshare35_bgr}"; then
+		fdt set /soc/${tmp_spi_path}/waveshare35 bgr "<${param_waveshare35_bgr}>"
+	fi
+
+	env delete tmp_spi_path
+fi
+
+if test "${param_ertft_spi_bus}" = "0"; then
+	setenv tmp_spi_path "spi@7e204000"
+	setenv tmp_i2c_path "i2c@7e804000"
+
+	fdt set /soc/${tmp_spi_path} status "okay"
+	fdt set /soc/${tmp_spi_path}/ertft status "okay"
+	fdt set /soc/${tmp_i2c_path} status "okay"
+	fdt set /soc/${tmp_i2c_path}/ertft_tp status "okay"
+
+	if test -n "${param_ertft_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/ertft spi-max-frequency "<${param_ertft_max_freq}>"
+	fi
+	if test -n "${param_ertft_rotation}"; then
+		fdt set /soc/${tmp_spi_path}/ertft rotation "<${param_ertft_rotation}>"
+	fi
+
+	if test "${param_ertft_tp_inverted_x}" = "1"; then
+		fdt set /soc/${tmp_i2c_path}/ertft_tp touchscreen-inverted-x
+	fi
+	if test "${param_ertft_tp_inverted_y}" = "1"; then
+		fdt set /soc/${tmp_i2c_path}/ertft_tp touchscreen-inverted-y
+	fi
+	if test "${param_ertft_tp_swapped_x_y}" = "1"; then
+		fdt set /soc/${tmp_i2c_path}/ertft_tp touchscreen-swapped-x-y
+	fi
+
+	env delete tmp_spi_path
+	env delete tmp_i2c_path
+fi
+
+if test -n "${param_nrf24_spi_bus}"; then
+	test "${param_nrf24_spi_bus}" = "0" && setenv tmp_spi_path "spi@7e204000"
+	test "${param_nrf24_spi_bus}" = "1" && setenv tmp_spi_path "spi@7e215080"
+
+	fdt set /soc/${tmp_spi_path} status "okay"
+	fdt set /soc/${tmp_spi_path}/nrf24 status "okay"
+
+	if test -n "${param_nrf24_max_freq}"; then
+		fdt set /soc/${tmp_spi_path}/nrf24 spi-max-frequency "<${param_nrf24_max_freq}>"
+	fi
+	if test "${param_nrf24_spi_cs}" = "1"; then
+		fdt set /soc/${tmp_spi_path}/nrf24 reg "<1>"
+	fi
+	env delete tmp_spi_path
+fi
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-gpio-reset.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-gpio-reset.dts
new file mode 100644
index 0000000..71be44a
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-gpio-reset.dts
@@ -0,0 +1,24 @@
+#include <dt-bindings/gpio/gpio.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/soc/";
+		__overlay__ {
+			rstc_gpio: rstc-gpio@0 {
+				compatible = "linux,gpio-reset-controller";
+				#reset-cells = <1>;
+
+				panel0-reset {
+					gpios = <&gpio 24 GPIO_ACTIVE_LOW>;
+					duration-ms = <20 5 20>;
+					max-resets = <1>;
+				};
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-no-hdmi.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-no-hdmi.dts
new file mode 100644
index 0000000..024d697
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-no-hdmi.dts
@@ -0,0 +1,13 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target = <&hdmi>;
+		__overlay__ {
+			status = "disabled";
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-nrf24-spi.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-nrf24-spi.dts
new file mode 100644
index 0000000..2d9ece7
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-nrf24-spi.dts
@@ -0,0 +1,83 @@
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+			spi1 = "/soc/spi@7e215080";
+		};
+	};
+
+	fragment@1 {
+                target = <&gpio>;
+                __overlay__ {
+                        nrf24_int0: nrf24_int0 {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+
+			nrf24_ce0: nrf24_ce0 {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+
+			nrf24_int1: nrf24_int1 {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+
+			nrf24_ce1: nrf24_ce1 {
+				brcm,pins = <27>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			nrf24@0 {
+				compatible = "nordic,nrf24";
+				reg = <0>;			/* CS0 */
+				spi-max-frequency = <5000000>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&nrf24_int0 &nrf24_ce0>;
+				interrupt-parent = <&gpio>;
+				interrupts = <24 2>;		/* irq, falling edge */
+				irq-gpios = <&gpio 24 0>;
+				ce-gpios = <&gpio 25 0>;
+				status = "disabled";
+			};
+		};
+	};
+
+	fragment@3 {
+		target-path = "/soc/spi@7e215080";
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			nrf24@0 {
+				compatible = "nordic,nrf24";
+				reg = <0>;			/* CS0 */
+				spi-max-frequency = <5000000>;
+				pinctrl-names = "default";
+				pinctrl-0 = <&nrf24_int1 &nrf24_ce1>;
+				interrupt-parent = <&gpio>;
+				interrupts = <17 2>;		/* irq, falling edge */
+				irq-gpios = <&gpio 17 0>;
+				ce-gpios = <&gpio 27 0>;
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-spidev.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-spidev.dts
new file mode 100644
index 0000000..abd098c
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-spidev.dts
@@ -0,0 +1,68 @@
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+			spi1 = "/soc/spi@7e215080";
+		};
+	};
+
+	fragment@1 {
+                target-path = "/soc/spi@7e204000";
+                __overlay__ {
+                        /* needed to avoid dtc warning */
+                        #address-cells = <1>;
+                        #size-cells = <0>;
+
+                        spidev@0 {
+                                compatible = "spidev";
+                                reg = <0>;              /* CE0 */
+                                #address-cells = <1>;
+                                #size-cells = <0>;
+                                spi-max-frequency = <2000000>;
+				status = "disabled";
+                        };
+
+			spidev@1 {
+                                compatible = "spidev";
+                                reg = <1>;              /* CE1 */
+                                #address-cells = <1>;
+                                #size-cells = <0>;
+                                spi-max-frequency = <2000000>;
+				status = "disabled";
+                        };
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e215080";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			spidev@0 {
+				compatible = "spidev";
+				reg = <0>;		/* CE0 */
+				#address-cells = <1>;
+				#size-cells = <0>;
+				spi-max-frequency = <2000000>;
+				status = "disabled";
+			};
+
+			spidev@1 {
+				compatible = "spidev";
+				reg = <1>;		/* CE1 */
+				#address-cells = <1>;
+				#size-cells = <0>;
+				spi-max-frequency = <2000000>;
+				status = "disabled";
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-drm.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-drm.dts
new file mode 100644
index 0000000..5d38c44
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-drm.dts
@@ -0,0 +1,73 @@
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			ws35_irq_pin: w35_irq_pin {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+			ws35_rst_pin: ws35_rst_pin {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+			ws35_dc_pin: waveshare35a_dc {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			ws35_lcd: ws35-lcd@0 {
+				compatible = "waveshare,rpi-lcd-35","ilitek,ili9486";
+				reg = <0>;
+
+				spi-max-frequency = <20000000>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&ws35_irq_pin &ws35_rst_pin &ws35_dc_pin>;
+
+				reset-gpios = <&gpio 25 0>;
+				dc-gpios = <&gpio 24 0>;
+				rotation = <0>;
+			};
+
+			ws35_ts: ws35-ts@1 {
+				compatible = "ti,ads7846";
+				reg = <1>;
+
+				spi-max-frequency = <2000000>;
+
+				interrupt-parent = <&gpio>;
+				interrupts = <17 IRQ_TYPE_EDGE_FALLING>;
+
+				pendown-gpios = <&gpio 17 0>;
+
+				ti,x-plate-ohms = /bits/ 16 <60>;
+				ti,pressure-max = /bits/ 16 <255>;
+			};
+		};
+	};
+};
diff --git a/arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-fbtft.dts b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-fbtft.dts
new file mode 100644
index 0000000..3ff77ae
--- /dev/null
+++ b/arch/arm64/boot/dts/broadcom/overlays/bcm2835-waveshare35-fbtft.dts
@@ -0,0 +1,97 @@
+#include <dt-bindings/pinctrl/bcm2835.h>
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "brcm,bcm2837","brcm,bcm2835";
+
+	fragment@0 {
+		target-path = "/aliases";
+		__overlay__ {
+			spi0 = "/soc/spi@7e204000";
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio>;
+		__overlay__ {
+			waveshare35a_int: waveshare35a_int {
+				brcm,pins = <17>;
+				brcm,function = <BCM2835_FSEL_GPIO_IN>;
+			};
+			waveshare35a_rst: waveshare35a_rst {
+				brcm,pins = <25>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+                        };
+			waveshare35a_dc: waveshare35a_dc {
+				brcm,pins = <24>;
+				brcm,function = <BCM2835_FSEL_GPIO_OUT>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target-path = "/soc/spi@7e204000";
+		__overlay__ {
+			/* needed to avoid dtc warning */
+			#address-cells = <1>;
+			#size-cells = <0>;
+
+			ws35_lcd: ws35-lcd@0 {
+				compatible = "ilitek,ili9486";
+				reg = <0>;
+
+				spi-max-frequency = <16000000>;
+
+				pinctrl-names = "default";
+				pinctrl-0 = <&waveshare35a_int &waveshare35a_rst &waveshare35a_dc>;
+
+				reset-gpios = <&gpio 25 0>;
+				dc-gpios = <&gpio 24 0>;
+
+				txbuflen = <32768>;
+				rotate = <90>;
+				bgr = <0>;
+				fps = <30>;
+				buswidth = <8>;
+				regwidth = <16>;
+				debug = <0>;
+
+				init = <0x10000b0 0x00
+				        0x1000011
+					0x20000ff
+					0x100003a 0x55
+					0x1000036 0x28
+					0x10000c2 0x44
+					0x10000c5 0x00 0x00 0x00 0x00
+					0x10000e0 0x0f 0x1f 0x1c 0x0c 0x0f 0x08 0x48 0x98 0x37 0x0a 0x13 0x04 0x11 0x0d 0x00
+					0x10000e1 0x0f 0x32 0x2e 0x0b 0x0d 0x05 0x47 0x75 0x37 0x06 0x10 0x03 0x24 0x20 0x00
+					0x10000e2 0x0f 0x32 0x2e 0x0b 0x0d 0x05 0x47 0x75 0x37 0x06 0x10 0x03 0x24 0x20 0x00
+					/* piscreen -> waveshare35a */
+					0x1000036 0x28
+					0x1000011
+					0x1000029>;
+
+				status = "disabled";
+			};
+
+			ws35a_ts: ws35-ts@1 {
+				compatible = "ti,ads7846";
+				reg = <1>;
+
+				spi-max-frequency = <2000000>;
+
+				interrupts = <17 2>;		/* high-to-low edge triggered */
+				interrupt-parent = <&gpio>;
+
+				pendown-gpio = <&gpio 17 0>;
+
+				ti,x-plate-ohms = /bits/ 16 <60>;
+				ti,pressure-max = /bits/ 16 <255>;
+
+				status = "disabled";
+			};
+		};
+	};
+};
-- 
2.17.1

