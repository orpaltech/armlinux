# qmake configuration for the Allwinner A64 SoC

include(../common/linux_device_pre.conf)

QT_QPA_DEFAULT_PLATFORM	= eglfs

QMAKE_INCDIR_POST	+= \
	$$[QT_SYSROOT]/usr/include

QMAKE_LIBDIR_POST	+= \
	$$[QT_SYSROOT]/usr/lib \
	$$[QT_SYSROOT]/usr/lib/aarch64-linux-gnu \
	$$[QT_SYSROOT]/lib/aarch64-linux-gnu

QMAKE_RPATHLINKDIR_POST	+= \
	$$[QT_SYSROOT]/usr/lib \
	$$[QT_SYSROOT]/usr/lib/aarch64-linux-gnu \
	$$[QT_SYSROOT]/lib/aarch64-linux-gnu

QMAKE_LIBS_OPENGL_ES2	= -lGLESv2
QMAKE_LIBS_EGL		= -lEGL

COMPILER_FLAGS	+= -march=armv8-a -mtune=cortex-a53
QMAKE_LIBS	+= -lrt -lpthread -ldl -lz

DISTRO_OPTS	+= deb-multi-arch
DISTRO_OPTS	+= aarch64

# Preferred eglfs backend
EGLFS_DEVICE_INTEGRATION = eglfs_kms

include(../common/linux_arm_device_post.conf)

load(qt_config)
